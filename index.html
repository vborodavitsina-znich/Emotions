<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Карта эмоций — 140 не повторяющихся состояний</title>
<style>
:root{
  --bg:#0b1020; --card:#121936; --muted:#8ea0c7; --text:#e7ecf7;
  --joy:#3ddc97; --sad:#7aa2f7; --fear:#f6c177; --anger:#ef596f; --disgust:#74c7a5; --surprise:#f4d35e;
  --chip:#1a2348; --chip-hover:#223062; --pill:#0e1633; --accent:#9bdbff;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#0b1020 0%,#0e1836 100%);
  color:var(--text);
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif
}
header{
  padding:20px 16px 10px;
  position:sticky;
  top:0;
  background:linear-gradient(180deg, rgba(11,16,32,.95), rgba(11,16,32,.70));
  backdrop-filter: blur(6px);
  z-index:10;
  border-bottom:1px solid rgba(255,255,255,.06)
}
h1{margin:0 0 6px;font-size:20px}
.sub{color:var(--muted);font-size:13px;margin-bottom:10px}
.controls{display:grid;gap:8px;grid-template-columns:1fr;max-width:1200px;margin:0 auto}
@media(min-width:700px){.controls{grid-template-columns: 1.2fr .9fr .9fr}}
input,select{
  background:var(--card);
  border:1px solid rgba(255,255,255,.1);
  color:var(--text);
  padding:10px 12px;
  border-radius:10px;
  font-size:14px;
  width:100%
}
.main{max-width:1200px;margin:16px auto;padding:0 16px 32px}
.legend{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}
.legend .item{
  display:flex;align-items:center;gap:8px;
  background:var(--pill);
  padding:8px 10px;border-radius:999px;
  border:1px solid rgba(255,255,255,.06);
  font-size:12px;color:var(--muted)
}
.sw{width:12px;height:12px;border-radius:3px}
.grid{display:grid;gap:14px}
@media(min-width:800px){.grid{grid-template-columns: repeat(2, minmax(0,1fr))}}
@media(min-width:1100px){.grid{grid-template-columns: repeat(3, minmax(0,1fr))}}
.lane{
  background:var(--card);
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  overflow:hidden
}
.lane h2{
  margin:0;padding:12px 14px;font-size:16px;
  display:flex;align-items:center;gap:10px;
  border-bottom:1px solid rgba(255,255,255,.06)
}
.lane h2 .dot{width:10px;height:10px;border-radius:50%}
.levels{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:10px;
  padding:12px
}
.col{
  background:rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.05);
  border-radius:12px;
  padding:10px;
  display:flex;
  flex-direction:column;
  min-height:180px
}
.col h3{margin:2px 2px 8px;font-size:12px;color:var(--muted);font-weight:600;text-transform:uppercase;letter-spacing:.6px}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{
  background:var(--chip);
  border:1px solid rgba(255,255,255,.06);
  color:var(--text);
  padding:7px 9px;
  border-radius:999px;
  font-size:13px;
  cursor:pointer;
  transition:.15s ease;
}
.chip:hover{background:var(--chip-hover);transform:translateY(-1px)}
.muted{opacity:.6}
.footer{color:var(--muted);font-size:12px;margin-top:18px;line-height:1.55}
.count{color:var(--accent);font-weight:600}
dialog{
  width:min(680px, calc(100% - 32px));
  border:1px solid rgba(255,255,255,.2);
  border-radius:14px;
  padding:0;
  background:#0c1430;
  color:var(--text);
  box-shadow:0 20px 60px rgba(0,0,0,.5)
}
dialog::backdrop{background:rgba(3,6,16,.6);backdrop-filter: blur(2px)}
.md{padding:16px}
.md h4{margin:0 0 6px;font-size:16px}
.md p{margin:0 0 8px;color:#c7d0ea;font-size:14px}
.badge{display:inline-flex;gap:6px;align-items:center;background:#0f1a3e;border:1px solid rgba(255,255,255,.08);border-radius:999px;padding:6px 10px;font-size:12px;margin:4px 6px 0 0}
.xbtn{background:none;border:none;color:#aeb9d9;font-size:13px;cursor:pointer;padding:10px 12px}
.head{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.08);padding:10px 12px}
.empty{color:var(--muted);text-align:center;padding:18px 6px}
</style>
</head>
<body>
<header>
<h1>Карта эмоций — 140 не повторяющихся состояний</h1>
<div class="sub">6 базовых эмоций × 4 уровня интенсивности. Используйте поиск/фильтры. Нажмите на эмоцию для пояснения и вопроса.</div>
<div class="sub">Создано по мотивам МАК карт "Неслучайные эмоции" и книги Н.Кедровой "Азбука эмоций".</div>
<div class="controls">
<input id="q" type="search" placeholder="Поиск эмоции (например: «ярость», «печаль»)">
<select id="f-base">
<option value="">Все базовые</option>
<option value="Радость">Радость</option>
<option value="Грусть">Грусть</option>
<option value="Страх">Страх</option>
<option value="Гнев">Гнев</option>
<option value="Отвращение">Отвращение</option>
<option value="Удивление">Удивление</option>
</select>
<select id="f-level">
<option value="">Все уровни</option>
<option value="Низкая">Низкая</option>
<option value="Средняя">Средняя</option>
<option value="Высокая">Высокая</option>
<option value="Пиковая">Пиковая</option>
</select>
</div>
</header>

<main>
<div class="legend">
<div class="item"><span class="sw" style="background:var(--joy)"></span>Радость</div>
<div class="item"><span class="sw" style="background:var(--sad)"></span>Грусть</div>
<div class="item"><span class="sw" style="background:var(--fear)"></span>Страх</div>
<div class="item"><span class="sw" style="background:var(--anger)"></span>Гнев</div>
<div class="item"><span class="sw" style="background:var(--disgust)"></span>Отвращение</div>
<div class="item"><span class="sw" style="background:var(--surprise)"></span>Удивление</div>
</div>

<div id="grid" class="grid"></div>
<div class="footer">
Всего эмоций: <span id="total" class="count">0</span>. Отфильтровано: <span id="shown" class="count">0</span>.
</div>
</main>

<dialog id="dlg">
<div class="head">
<h3 id="dlg-title">Эмоция</h3>
<button class="xbtn" onclick="dlg.close()">Закрыть ✕</button>
</div>
<div class="md">
<h4 id="dlg-desc"></h4>
<p id="dlg-question"></p>
<div id="dlg-tags"></div>
</div>
</dialog>

<script>
// --- Массив из 135 эмоций (название, базовая, уровень, описание, вопрос) ---
const dataRaw = [
// --- Радость 40 ---
["Блаженство","Радость","Пиковая","Глубокая, спокойная пиковая радость.","Что приносит глубокий покой и тепло?"],
["Безопасность","Радость","Низкая","Состояние защищенности и устойчивости.","Что ценное появилось в моей жизни? Как меня это поддерживает и развивает?"],
["Вдохновение","Радость","Высокая","Подъём энергии и стремление к созданию нового.","В поисках какой ценности я нахожусь?"],
["Вера","Радость","Средняя","Устойчивое позитивное доверие будущему.","Что хорошее останется или случится со мной, несмотря ни на что?"],
["Влечение","Радость","Средняя","Притяжение/интерес к объекту; позитивный заряд.","К чему меня неотвратимо тянет?"],
["Веселье","Радость","Средняя","Активная радость, шуточность.","Что делает момент искренне смешным для меня?"],
["Восхищение","Радость","Высокая","Радость + удивление перед превосходством.","Что здесь красиво и ценно для меня?"],
["Восторг","Радость","Высокая","Сильная радость и восхищение.","Что превзошло мои самые смелые ожидания?"],
["Гордость","Радость","Высокая","Радость от собственных достижений.","Что у меня получилось по-настоящему отлично?"],
["Достоинство","Радость","Средняя","Самопринятие и ценность; спокойная радость.","Что во мне требует уважения прежде всего?"],
["Доверие","Радость","Низкая","Спокойное принятие и ощущение надёжности.","Что соответствует моим ценностям? Как это меня наполняет и поддерживает?"],
["Единство","Радость","Средняя","Чувство сопричастности и гармонии.","Что у меня откликается? Что в этом меня наполняет и поддерживает?"],
["Желание","Радость","Средняя","Направленная позитивная мотивация.","Чего мне по-настоящему хочется сейчас?"],
["Азарт","Радость","Высокая","Возбужденная радость ожидания успеха.","Над кем я стремлюсь одержать победу?"],
["Экстаз","Радость","Пиковая","Пиковая радость, трансперсональная эйфория.","Что стало вершиной моего усилия сейчас?"],
["Легкость","Радость","Низкая","Облегчённое, воздушное состояние.","Что нового поддерживает меня и дает свободу?"],
["Ликование","Радость","Пиковая","Интенсивная победная радость.","Что ценное появилось в моей жизни? Почему для меня это важно?"],
["Любовь","Радость","Высокая","Спектр от нежности до экстаза.","Что соответствует моим ценностям? Что сейчас хочется беречь и приумножать?"],
["Мягкость","Радость","Низкая","Спокойное принятие, доброжелательность.","Где я могу смягчиться без ущерба для себя?"],
["Надежда","Радость","Средняя","Позитивное ожидание исхода.","На что светлое я опираюсь сейчас?"],
["Наслаждение","Радость","Средняя","Глубокое проживание приятного опыта.","Что ценного я приобрел? Какую пользу мне это принесло?"],
["Недоверие","Страх","Средняя","Сомнение в надёжности другого.","Что я не принимаю в людях? Чего я боюсь на самом деле?"],
["Нежность","Радость","Низкая","Тёплая мягкая радость к объекту привязанности.","К чему хочется прикоснуться бережно?"],
["Осознанность","Радость","Низкая","Принятие реальности без сопротивления.","Что я готов принять? Как я отреагирую на встречу с неожиданным?"],
["Ответственность","Радость","Средняя","Готовность признавать влияние своих действий.","Что я готов принять в себе и в своей жизни? Как этот опыт меня обогащает?"],
["Поддержка","Радость","Низкая","Чувство опоры и участия.","Что ценное я приобрел? Как меня это поддерживает и развивает?"],
["Признательность","Радость","Средняя","Социальная благодарность; теплая радость.","Что из произошедшего я хочу бережно признать ценным?"],
["Принятие","Радость","Низкая","Спокойная согласованность с реальностью.","Что я выбираю не менять и просто признать?"],
["Благодарность","Радость","Средняя","Позитив к источнику пользы; социальная радость.","За что я искренне благодарен в этот момент?"],
["Радость","Радость","Средняя","Базовое позитивное переживание.","Что значимое появилось в моей жизни? Как меня это поддерживает и развивает?"],
["Решимость","Радость","Высокая","Внутреннее согласие действовать.","Что вызывает во мне полное согласие? Чего я по-настоящему желаю?"],
["Симпатия","Радость","Средняя","Принятие и тепло к другим.","Что общего между нами даёт мне тёплое чувство принятия?"],
["Смелость","Радость","Высокая","Готовность действовать несмотря на страх.","Чего по-настоящему я желаю? Чем в себе я полностью удовлетворен?"],
["Спокойствие","Радость","Низкая","Позитивный гомеостаз/равновесие.","Что позволяет мне не суетиться? Что ценное есть сейчас и почему это важно?"],
["Страсть","Радость","Высокая","Сильная вовлеченность и энергия.","Ради чего у меня горят глаза?"],
["Удовлетворение","Радость","Низкая","Спокойная завершенность; низкая радость.","Что закрывает мою потребность прямо сейчас?"],
["Удовольствие","Радость","Средняя","Позитивный аффект от стимула/деятельности.","Что приносит мне приятные ощущения сейчас? Как меня это поддерживает и развивает?"],
["Уважение","Радость","Низкая","Ценность себя и других.","Что во мне или другом достойно бережного отношения?"],
["Уверенность","Радость","Высокая","Вера в свои способности.","Что я принимаю в себе? Чего я по-настоящему желаю?"],
["Эйфория","Радость","Пиковая","Пик возбуждённой радости.","Что нового подняло меня на волну радости?"],
["Энтузиазм","Радость","Высокая","Энергичная радость, готовность действовать.","Что хочется делать с огоньком прямо сейчас?"],

// --- Грусть 24 ---
["Апатия","Грусть","Низкая","Снижение интереса и энергии, эмоциональное выгорание.","Что я упустил из того, что имело для меня большое значение?"],
["Бессилие","Грусть","Пиковая","Невозможность достичь значимого.","Чего значимого я не могу достичь?"],
["Безнадежность","Грусть","Пиковая","Ощущение невозможности ситуации.","В чем я нуждаюсь, но не могу получить?"],
["Беспомощность","Грусть","Высокая","Чувство отсутствия контроля.","В чем я не вижу рычагов влияния?"],
["Вина","Грусть","Средняя","Осознание своей ответственности за причинённый вред.","За что я чувствую вину? Что хочу исправить?"],
["Горе","Грусть","Пиковая","Глубокая реакция на значимую утрату.","В чем я нуждаюсь, но не могу получить? Что я потерял из того, что имело для меня большое значение?"],
["Грусть","Грусть","Высокая","Базовая сильная грусть.","В чем я нуждаюсь, но не могу получить? Что значимое я упустил из своей жизни?"],
["Жалость","Грусть","Средняя","Сочувствие с оттенком дистанции.","Что я отрицаю в его жизни и в своей?"],
["Конфуз","Грусть","Средняя","Разочарование из-за непредвиденной ошибки.","Что не оправдало моих ожиданий? Что я не готов в себе принять?"],
["Лень","Грусть","Низкая","Отсутствие мотивации.","Что важное я откладываю прямо сейчас?"],
["Ностальгия","Грусть","Средняя","Скучание по прошлому, сентиментальность.","Чего ценного я лишился?"],
["Обида","Грусть","Средняя","Чувство несправедливости и личной травмы.","Какое мое ожидание не было встречено?"],
["Одиночество","Грусть","Высокая","Чувство изоляции и отстранённости.","Чьего присутствия мне сейчас не хватает?"],
["Опустошенность","Грусть","Пиковая","Чувство нехватки ресурсов или смысла.","В чем я нуждаюсь, но не могу получить?"],
["Отверженность","Грусть","Высокая","Чувство неполученной поддержки.","Чью поддержку я хочу получить, но не получаю?"],
["Печаль","Грусть","Низкая","Ощущение утраты или неудовлетворённости.","О какой потере я думаю в этот момент?"],
["Подавленность","Грусть","Высокая","Тяжесть и психологическое давление.","Что на меня давит больше всего сейчас?"],
["Позор","Грусть","Высокая","Ощущение неловкости, потери статуса.","За что мне неловко, если назвать это вслух?"],
["Раскаяние","Грусть","Средняя","Осознание собственных ошибок.","Чего я боюсь на самом деле? Что вызывает у меня противоречия?"],
["Сострадание","Грусть","Средняя","Готовность быть рядом с чужой болью.","Что я готов принять? За что я чувствую вину?"],
["Сочувствие","Грусть","Средняя","Эмпатия к состоянию другого.","Что я готов принять в других людях? За что я чувствую вину? Что хочу исправить?"],
["Стеснительность","Страх","Низкая","Скованность в социальном проявлении.","Что я в себе не принимаю?"],
["Стыд","Грусть","Средняя","Скрытие аспектов себя.","Что во мне я стараюсь спрятать от других?"],
["Униженность","Грусть","Высокая","Нарушение чувства собственного достоинства.","Что задело мое чувство собственного достоинства?"],
["Уязвленность","Грусть","Высокая","Боль от чувствительности и тонких переживаний.","Где мне сейчас особенно больно и тонко?"],

// --- Страх 28 ---
["Боль","Страх","Высокая","Невозможность удовлетворить потребность.","В чем я нуждаюсь, но не могу получить?"],
["Волнение","Страх","Средняя","Напряжённое ожидание события.","Чего я боюсь на самом деле? Какие угрозы реальны, а какие выдуманы?"],
["Гнев","Страх","Средняя","Нарушение границ.","Что нарушает мои границы?"],
["Досада","Страх","Средняя","Разочарование или раздражение.","Что вызывает у меня несогласие? Что хочу исправить?"],
["Испуг","Страх","Высокая","Кратковременная реакция на угрозу.","Что не соответствует моим ценностям и убеждениям?"],
["Жадность","Страх","Высокая","Стремление удержать ресурс из страха потери.","Что я хочу сохранить и приумножить?"],
["Нерешительность","Страх","Средняя","Задержка действия из-за сомнений.","Чего я боюсь на самом деле? Какие угрозы реальны, а какие выдуманы?"],
["Неуверенность","Страх","Средняя","Сомнение в собственных возможностях.","Что на самом деле вызывает у меня страх? Какие из угроз реальны, а какие выдуманы?"],
["Осознание","Страх","Средняя","Ясность ситуации.","В чем я только что стал яснее?"],
["Скука","Страх","Низкая","Отсутствие интереса к текущему.","Чего нового мне сейчас не хватает?"],
["Облегчение","Радость","Средняя","Снятие напряжения после угрозы.","Что значимого появилось в моей жизни?"],
["Обреченность","Грусть","Высокая","Ощущение неизбежности негативного исхода.","В чем я нуждаюсь, но не могу я получить? Что я упустил из того, что имело для меня большое значение?"],
["Озарение","Удивление","Высокая","Ясность и внезапное понимание.","Что превзошло мои ожидания? Что вызывает во мне полное согласие?"],
["Отчаяние","Страх","Пиковая","Чувство недостижимости.","Что именно кажется мне недостижимым сейчас?"],
["Отрицание эмоций","Страх","Средняя","Избегание контакта с переживаниями.","Что происходит, когда я начинаю отрицать и игнорировать свои чувства? Какие мысли в этот момент в моей голове?"],
["Подозрение","Страх","Средняя","Ожидание скрытой угрозы.","Что я не принимаю в людях? Чего я боюсь на самом деле?"],
["Потрясение","Страх","Высокая","Неожиданность и нарушение ценностей.","Что не соответствует моим ценностям и убеждениям?"],
["Паника","Страх","Пиковая","Внезапная неконтролируемая тревога.","Что реально угрожает в ближайшие минуты?"],
["Предвкушение","Радость","Средняя","Позитивное ожидание будущего.","В поисках какой ценности я нахожусь?"],
["Протест","Страх","Средняя","Отказ от навязанного.","От чего мне нужно избавиться прямо сейчас?"],
["Разочарование","Страх","Средняя","Несбывшиеся ожидания.","Что не оправдало мои ожидания? Что именно не сбылось из ожиданий?"],
["Растерянность","Страх","Средняя","Неведение и дезориентация.","Чего мне не хватает, чтобы понять, что делать?"],
["Ревность","Страх","Высокая","Недостаток спокойствия в отношениях.","Чего мне не хватает в отношениях для спокойствия?"],
["Смущение","Страх","Средняя","Желание спрятать себя.","Что именно во мне сейчас хочет спрятаться или быть неувиденым?"],
["Сомнение","Страх","Средняя","Неуверенность в ситуации.","Чего я боюсь на самом деле? Какие угрозы реальны, а какие выдуманы?"],
["Страх","Страх","Высокая","Базовый сильный страх.","Чего я боюсь больше всего в этой ситуации? Какие угрозы реальны, а какие выдуманы?"],
["Тревога","Страх","Средняя","Напряжённое ожидание угрозы.","Чего я боюсь на самом деле? Какие угрозы реальны, а какие выдуманы?"],
["Тоска","Страх","Средняя","Глубокая пустота и нехватка.","Чего мне не хватает до полноты жизни?"],
["Ужас","Страх","Пиковая","Интенсивная реакция на опасность.","Где объективная опасность, а где воображение?"],

// --- Гнев 19 ---
["Возмущение","Гнев","Средняя","Моральная реакция на неправильные действия.","Что нарушило мои ожидания справедливости?"],
["Враждебность","Гнев","Высокая","Сильная агрессия и сопротивление.","К кому я враждебен?"],
["Вспыльчивость","Гнев","Высокая","Лёгкая потеря контроля и раздражение.","Когда я вспыльчив?"],
["Гнев","Гнев","Средняя","Сильное чувство неприятия или обиды.","Что нарушает мои границы?"],
["Агрессия","Гнев","Высокая","Активное давление и стремление устранить препятствие.","Что мне важно прекратить или устранить?"],
["Гнев подавленный","Гнев","Средняя","Эмоция гнева, которую не выражаю открыто.","Что я скрываю?"],
["Дерзость","Гнев","Средняя","Готовность идти на риск, игнорируя ограничения.","Что я не принимаю в людях? В чем мое преимущество перед другими?"],
["Зависть","Гнев","Средняя","Раздражение из-за чужого преимущества.","Что во мне самом вызывает внутреннее несогласие?"],
["Злорадство","Гнев","Высокая","Удовольствие от чужой неудачи.","Что я не принимаю в людях? Чем я лучше?"],
["Злоcть","Гнев","Высокая","Целенаправленная агрессия.","Что мне важно прекратить или устранить?"],
["Недовольство","Гнев","Низкая","Лёгкая форма несогласия.","Что мне важно прекратить или устранить?"],
["Ненависть","Гнев","Высокая","Сильное непринятие других.","Что я не принимаю в людях? Какого наказания я желаю для другого?"],
["Нетерпеливость","Гнев","Низкая","Терпение заканчивается, растёт раздражение.","Когда я нетерпелив?"],
["Нетерпимость","Гнев","Средняя","Неспособность принять чужое мнение.","К чему я нетерпим?"],
["Негодование","Гнев","Средняя","Острое чувство протеста и обиды.","На что я негодую?"],
["Обида","Гнев","Средняя","Нарушение ожиданий другими.","Какое мое ожидание не было встречено?"],
["Раздражение","Гнев","Низкая","Лёгкая форма недовольства.","Что я хочу прекратить немедленно?"],
["Сопротивление","Гнев","Средняя","Противодействие давлению или требованиям.","Что мне важно прекратить или устранить?"],
["Фрустрация","Гнев","Средняя","Разочарование от невозможности достичь цели.","Что меня фрустрирует?"],
["Ярость","Гнев","Пиковая","Интенсивная реакция на несправедливость.","Что кажется предельно несправедливым?"],

// --- Отвращение 16 ---
["Брезгливость","Отвращение","Низкая","Физическое неприятие.","Что не соответствует моим ценностям и убеждениям?"],
["Высокомерие","Отвращение","Высокая","Явное демонстрирование превосходства.","Что я не принимаю в людях? В чем я ищу повод чувствовать себя выше?"],
["Ирония","Отвращение","Низкая","Защитная дистанция через обесценивание.","Что я не принимаю в людях? В чем мое преимущество перед другими?"],
["Надменность","Отвращение","Средняя","Чувство превосходства.","Где я внутренне возвышаюсь над кем-то?"],
["Неприятие","Отвращение","Средняя","Не согласен с чем-то внутренне.","Что я не принимаю?"],
["Неприязнь","Отвращение","Средняя","Устойчивое негативное отношение.","Что не соответствует моим ценностям и убеждениям?"],
["Омерзение","Отвращение","Пиковая","Крайнее чувство физического или морального отвращения.","Что вызывает у меня омерзение?"],
["Обесценивание","Отвращение","Средняя","Снижение важности другого.","Что я намеренно уменьшаю в значимости?"],
["Отвращение","Отвращение","Высокая","Сильное неприятие чего-то или кого-то.","Что мне категорически не подходит?"],
["Отторжение","Отвращение","Высокая","Сильное неприятие чего-то или кого-то.","Что мне категорически не подходит?"],
["Пренебрежение","Отвращение","Средняя","Игнорирование ценности.","Что я не принимаю в людях? В чем мое преимущество перед другими?"],
["Презрение","Отвращение","Высокая","Моральное отторжение с ощущением превосходства.","Что я не принимаю в людях? В чем я считаю себя выше?"],
["Сарказм","Отвращение","Средняя","Агрессия, замаскированная иронией.","Что я не принимаю в людях? В чем я нуждаюсь, но не могу получить?"],
["Скепсис","Отвращение","Средняя","Недоверие, сомнение в искренности.","Что я сомневаюсь?"],
["Снисходительность","Отвращение","Низкая","Мягкая форма превосходства.","Кого я не воспринимаю всерьёз?"],
["Цинизм","Отвращение","Средняя","Скептическое отрицание искренности.","Что я считаю наивным?"],
["Ненависть","Отвращение","Высокая","Эмоция сильного отторжения к объекту.","К кому я испытываю ненависть?"],

// --- Удивление 11 ---
["Возбуждение","Удивление","Высокая","Повышенная активация и чувствительность к происходящему.","Что не соответствует моим ценностям и убеждениям?"],
["Изумление","Удивление","Высокая","Сильное ощущение неожиданного.","Что меня изумляет?"],
["Интерес","Удивление","Средняя","Внимание к новому и необычному.","В поисках какой ценности я нахожусь? Какую ценность я сейчас исследую?"],
["Любопытство","Удивление","Низкая","Желание узнать что-то новое.","В поисках каких открытий я нахожусь?"],
["Недоумение","Удивление","Средняя","Непонимание происходящего.","Что именно не оправдало ожиданий?"],
["Озадаченность","Удивление","Средняя","Состояние легкой растерянности и удивления.","Какой вопрос здесь главный для меня?"],
["Открытие","Удивление","Высокая","Удовольствие от нового знания или опыта.","Что я открыл?"],
["Ошеломление","Удивление","Пиковая","Крайнее потрясение и удивление.","Что меня ошеломляет?"],
["Шок","Удивление","Пиковая","Резкая неожиданность, дезориентация.","Что меня шокирует?"],
["Удивление","Удивление","Средняя","Базовая эмоция неожиданности.","Что меня удивляет?"],
["Восхищение","Удивление","Высокая","Положительное удивление и уважение.","Что здесь красиво и ценно для меня?"],
["Замешательство","Удивление","Средняя","Неведение, легкое удивление.","Что меня смущает?"]
];
  
const lanes = [
{ base:"Радость", color:"var(--joy)" },
{ base:"Грусть", color:"var(--sad)" },
{ base:"Страх", color:"var(--fear)" },
{ base:"Гнев", color:"var(--anger)" },
{ base:"Отвращение", color:"var(--disgust)" },
{ base:"Удивление", color:"var(--surprise)" }
];

const levels = ["Низкая","Средняя","Высокая","Пиковая"];

const items = dataRaw.map(([name,base,level,desc,question])=>({name,base,level,desc,question}));

function build(){
  const grid=document.getElementById("grid");
  grid.innerHTML="";
  let shown=0;
  const q=document.getElementById("q").value.trim().toLowerCase();
  const fBase=document.getElementById("f-base").value;
  const fLevel=document.getElementById("f-level").value;

  lanes.forEach(l=>{
    const lane=document.createElement("section");
    lane.className="lane";

    const h2=document.createElement("h2");
    const dot=document.createElement("span");
    dot.className="dot"; dot.style.background=l.color;
    h2.appendChild(dot); h2.appendChild(document.createTextNode(l.base));
    lane.appendChild(h2);

    const wrap=document.createElement("div");
    wrap.className="levels";

    levels.forEach(level=>{
      const col=document.createElement("div"); col.className="col";
      const h3=document.createElement("h3"); h3.textContent=level; col.appendChild(h3);
      const chips=document.createElement("div"); chips.className="chips";

      const filtered = items.filter(it=>{
        if(it.base!==l.base) return false;
        if(it.level!==level) return false;
        if(fBase && it.base!==fBase) return false;
        if(fLevel && it.level!==fLevel) return false;
        if(q && !it.name.toLowerCase().includes(q)) return false;
        return true;
      });

      if(filtered.length===0){
        const empty=document.createElement("div"); empty.className="empty muted"; empty.textContent="—";
        col.appendChild(empty);
      } else {
        filtered.forEach(it=>{
          const chip=document.createElement("button"); chip.className="chip"; chip.textContent=it.name;
          chip.onclick=()=>openDialog(it);
          chips.appendChild(chip); shown++;
        });
        col.appendChild(chips);
      }
      wrap.appendChild(col);
    });

    lane.appendChild(wrap);
    grid.appendChild(lane);
  });

  document.getElementById("total").textContent=items.length;
  document.getElementById("shown").textContent=shown;
}

function openDialog(it){
  document.getElementById("dlg-title").textContent=it.name;
  document.getElementById("dlg-desc").textContent=it.desc;
  document.getElementById("dlg-question").textContent="Вопрос: "+it.question;
  document.getElementById("dlg-tags").innerHTML=
    `<span class="badge">${it.base}</span> <span class="badge">${it.level}</span>`;
  dlg.showModal();
}

document.getElementById("q").addEventListener("input",build);
document.getElementById("f-base").addEventListener("change",build);
document.getElementById("f-level").addEventListener("change",build);

build();
</script>
</body>
</html>
