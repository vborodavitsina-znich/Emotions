<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Карта эмоций — расширенная версия</title>

<style>
:root{
  --bg:#0b1020; --card:#121936; --muted:#8ea0c7; --text:#e7ecf7;
  --joy:#3ddc97; --sad:#7aa2f7; --fear:#f6c177; --anger:#ef596f; --disgust:#74c7a5; --surprise:#f4d35e;
  --chip:#1a2348; --chip-hover:#223062; --pill:#0e1633; --accent:#9bdbff;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:linear-gradient(180deg,#0b1020 0%,#0e1836 100%);
  color:var(--text);
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif
}
header{
  padding:20px 16px 10px;
  position:sticky;
  top:0;
  background:linear-gradient(180deg, rgba(11,16,32,.95), rgba(11,16,32,.70));
  backdrop-filter: blur(6px);
  z-index:10;
  border-bottom:1px solid rgba(255,255,255,.06)
}
h1{margin:0 0 6px;font-size:20px}
.sub{color:var(--muted);font-size:13px;margin-bottom:10px}
.controls{display:grid;gap:8px;grid-template-columns:1fr;max-width:1200px;margin:0 auto}
@media(min-width:700px){.controls{grid-template-columns: 1.2fr .9fr .9fr}}
input,select{
  background:var(--card);
  border:1px solid rgba(255,255,255,.1);
  color:var(--text);
  padding:10px 12px;
  border-radius:10px;
  font-size:14px;
  width:100%
}
.main{max-width:1200px;margin:16px auto;padding:0 16px 32px}
.legend{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}
.legend .item{
  display:flex;align-items:center;gap:8px;
  background:var(--pill);
  padding:8px 10px;border-radius:999px;
  border:1px solid rgba(255,255,255,.06);
  font-size:12px;color:var(--muted)
}
.sw{width:12px;height:12px;border-radius:3px}
.grid{display:grid;gap:14px}
@media(min-width:800px){.grid{grid-template-columns: repeat(2, minmax(0,1fr))}}
@media(min-width:1100px){.grid{grid-template-columns: repeat(3, minmax(0,1fr))}}
.lane{
  background:var(--card);
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  overflow:hidden
}
.lane h2{
  margin:0;padding:12px 14px;font-size:16px;
  display:flex;align-items:center;gap:10px;
  border-bottom:1px solid rgba(255,255,255,.06)
}
.lane h2 .dot{width:10px;height:10px;border-radius:50%}
.levels{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:10px;
  padding:12px
}
.col{
  background:rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.05);
  border-radius:12px;
  padding:10px;
  display:flex;
  flex-direction:column;
  min-height:180px
}
.col h3{
  margin:2px 2px 8px;
  font-size:12px;
  color:var(--muted);
  text-transform:uppercase
}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip{
  background:var(--chip);
  border:1px solid rgba(255,255,255,.06);
  color:var(--text);
  padding:7px 9px;
  border-radius:999px;
  font-size:13px;
  cursor:pointer;
  transition:.15s ease
}
.chip:hover{background:var(--chip-hover)}
.footer{color:var(--muted);font-size:12px;margin-top:18px}
.count{color:var(--accent);font-weight:600}
dialog{
  width:min(680px, calc(100% - 32px));
  border:1px solid rgba(255,255,255,.2);
  border-radius:14px;
  padding:0;
  background:#0c1430;
  color:var(--text);
}
dialog::backdrop{
  background:rgba(3,6,16,.6);
}
.head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid rgba(255,255,255,.08);
  padding:10px 12px
}
.xbtn{
  background:none;border:none;color:#aeb9d9;
  font-size:13px;cursor:pointer
}
.md{padding:16px}
.badge{
  display:inline-flex;
  gap:6px;
  align-items:center;
  background:#0f1a3e;
  border:1px solid rgba(255,255,255,.08);
  border-radius:999px;
  padding:6px 10px;
  font-size:12px;
  margin:4px 6px 0 0
}
.question{
  margin-top:14px;
  padding:10px;
  background:#101a3d;
  border-radius:10px;
  font-weight:600;
}
</style>
</head>

<body>

<header>
<h1>Карта эмоций</h1>
<div class="sub">6 базовых эмоций × 4 уровня интенсивности</div>
<div class="controls">
<input id="q" type="search" placeholder="Поиск эмоции">
<select id="f-base">
<option value="">Все базовые</option>
<option>Радость</option>
<option>Грусть</option>
<option>Страх</option>
<option>Гнев</option>
<option>Отвращение</option>
<option>Удивление</option>
</select>
<select id="f-level">
<option value="">Все уровни</option>
<option>Низкая</option>
<option>Средняя</option>
<option>Высокая</option>
<option>Пиковая</option>
</select>
</div>
</header>

<main class="main">
<div id="grid" class="grid"></div>
<div class="footer">
Всего эмоций: <span id="total" class="count"></span>.
Отфильтровано: <span id="shown" class="count"></span>
</div>
</main>

<dialog id="dlg">
<div class="head">
<h3 id="dlg-title"></h3>
<button class="xbtn" onclick="dlg.close()">Закрыть ✕</button>
</div>
<div class="md">
<p id="dlg-desc"></p>
<div id="dlg-question" class="question"></div>
<div id="dlg-tags"></div>
</div>
</dialog>

<script>

const dataRaw = [

["Презрение","Отвращение","Высокая","Сильное моральное отторжение и ощущение превосходства.","Что я не принимаю в людях? Что я считаю недостойным здесь?"],
["Надменность","Отвращение","Средняя","Чувство превосходства над другим.","В чем я ставлю себя выше другого?"],
["Снисходительность","Отвращение","Низкая","Мягкая форма превосходства и дистанции.","Где я внутренне обесцениваю другого?"],
["Обесценивание","Отвращение","Средняя","Снижение значимости другого или ситуации.","Что я намеренно уменьшаю в значимости?"],
["Цинизм","Отвращение","Средняя","Отстранённое отрицание искренности и ценностей.","Что я считаю наивным или недостойным веры?"],
["Высокомерие","Отвращение","Высокая","Выраженное ощущение собственного превосходства.","Где я ищу повод чувствовать себя выше?"],
["Пренебрежение","Отвращение","Средняя","Игнорирование ценности другого.","Кого или что я считаю недостойным внимания?"]

];

const lanes = [
{ base:"Радость", color:"var(--joy)" },
{ base:"Грусть", color:"var(--sad)" },
{ base:"Страх", color:"var(--fear)" },
{ base:"Гнев", color:"var(--anger)" },
{ base:"Отвращение", color:"var(--disgust)" },
{ base:"Удивление", color:"var(--surprise)" }
];

const levels = ["Низкая","Средняя","Высокая","Пиковая"];

const items = dataRaw.map(([name,base,level,desc,question])=>({name,base,level,desc,question}));

function build(){
const grid=document.getElementById("grid");
grid.innerHTML="";
let shown=0;

lanes.forEach(l=>{
const lane=document.createElement("section");
lane.className="lane";

const h2=document.createElement("h2");
const dot=document.createElement("span");
dot.className="dot";
dot.style.background=l.color;
h2.appendChild(dot);
h2.appendChild(document.createTextNode(l.base));
lane.appendChild(h2);

const wrap=document.createElement("div");
wrap.className="levels";

levels.forEach(level=>{
const col=document.createElement("div");
col.className="col";
const h3=document.createElement("h3");
h3.textContent=level;
col.appendChild(h3);

const chips=document.createElement("div");
chips.className="chips";

items.filter(i=>i.base===l.base && i.level===level)
.forEach(it=>{
const chip=document.createElement("button");
chip.className="chip";
chip.textContent=it.name;
chip.onclick=()=>openDialog(it);
chips.appendChild(chip);
shown++;
});

col.appendChild(chips);
wrap.appendChild(col);
});

lane.appendChild(wrap);
grid.appendChild(lane);
});

document.getElementById("total").textContent=items.length;
document.getElementById("shown").textContent=shown;
}

function openDialog(it){
document.getElementById("dlg-title").textContent=it.name;
document.getElementById("dlg-desc").textContent=it.desc;
document.getElementById("dlg-question").textContent="Вопрос: "+it.question;
document.getElementById("dlg-tags").innerHTML=
`<span class="badge">${it.base}</span>
 <span class="badge">${it.level}</span>`;
dlg.showModal();
}

build();

</script>
</body>
</html>
